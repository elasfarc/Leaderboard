(()=>{"use strict";var e={426:(e,n,t)=>{t.d(n,{Z:()=>i});var r=t(15),o=t.n(r),a=t(645),s=t.n(a)()(o());s.push([e.id,"/* body {\n  _background-color: orangered;\n\n}\n\n@media only screen and (min-width: 600px) {\n  body {\n    background-color: orangered;\n  }\n} */\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml {\n  font-size: 0.625rem;\n}\n\nbody {\n  font-size: 2rem;\n  padding: 2rem;\n}\n\n.flex {\n  display: flex;\n}\n\n.app-content {\n  border: 1px solid green;\n  justify-content: space-between;\n  height: 80vh;\n}\n\n.scores-container {\n  width: 50%;\n}\n\n.form-container {\n  width: 30%;\n}\n\n.scores-container .content {\n  border: 1px solid blueviolet;\n}\n\n.form {\n  flex-direction: column;\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;;;;;;;;;GASG;;AAEH;EACE,sBAAsB;EACtB,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,aAAa;AACf;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,uBAAuB;EACvB,8BAA8B;EAC9B,YAAY;AACd;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,4BAA4B;AAC9B;;AAEA;EACE,sBAAsB;AACxB",sourcesContent:["/* body {\n  _background-color: orangered;\n\n}\n\n@media only screen and (min-width: 600px) {\n  body {\n    background-color: orangered;\n  }\n} */\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nhtml {\n  font-size: 0.625rem;\n}\n\nbody {\n  font-size: 2rem;\n  padding: 2rem;\n}\n\n.flex {\n  display: flex;\n}\n\n.app-content {\n  border: 1px solid green;\n  justify-content: space-between;\n  height: 80vh;\n}\n\n.scores-container {\n  width: 50%;\n}\n\n.form-container {\n  width: 30%;\n}\n\n.scores-container .content {\n  border: 1px solid blueviolet;\n}\n\n.form {\n  flex-direction: column;\n}\n"],sourceRoot:""}]);const i=s},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=e(n);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(o[s]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);r&&o[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),n.push(c))}},n}},15:e=>{function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}e.exports=function(e){var t,r,o=(r=4,function(e){if(Array.isArray(e))return e}(t=e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],s=!0,i=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);s=!0);}catch(e){i=!0,o=e}finally{try{s||null==t.return||t.return()}finally{if(i)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[1],s=o[3];if(!s)return a;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),u="/*# ".concat(c," */"),d=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[a].concat(d).concat([u]).join("\n")}return[a].join("\n")}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},s=[],i=0;i<e.length;i++){var c=e[i],u=r.base?c[0]+r.base:c[0],d=a[u]||0,l="".concat(u," ").concat(d);a[u]=d+1;var f=t(l),m={css:c[1],media:c[2],sourceMap:c[3]};-1!==f?(n[f].references++,n[f].updater(m)):n.push({identifier:l,updater:o(m,r),references:1}),s.push(l)}return s}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<a.length;s++){var i=t(a[s]);n[i].references--}for(var c=r(e,o),u=0;u<a.length;u++){var d=t(a[u]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}a=c}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r=t.css,o=t.media,a=t.sourceMap;o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e=t(379),n=t.n(e),r=t(795),o=t.n(r),a=t(569),s=t.n(a),i=t(565),c=t.n(i),u=t(216),d=t.n(u),l=t(589),f=t.n(l),m=t(426),p={};p.styleTagTransform=f(),p.setAttributes=c(),p.insert=s().bind(null,"head"),p.domAPI=o(),p.insertStyleElement=d(),n()(m.Z,p),m.Z&&m.Z.locals&&m.Z.locals;const h="https://us-central1-js-capstone-backend.cloudfunctions.net/api/",A=async({entryPoint:e,data:n})=>{const t=(e=>({method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}))(n),r=`${h}${e}`;try{const e=await fetch(r,t);return await e.json()}catch(e){return e}};class g{constructor({name:e,age:n=18,sex:t}){if(!e)throw new Error("Name must be provided!");this.name=e,this.age=n,this.sex=t}}class y{constructor({player:e,score:n}){if(!(e&&e instanceof g))throw new Error("player object must be provided!");this.player=e,this.score=n}}const b=new class{#storage;constructor(){this.#storage=JSON.parse(localStorage.getItem("boards"))||[],this.isFirstTime=0===this.#storage.length}get storage(){return this.#storage}async addLeaderBoard(e){const n={name:e},{result:t}=await A({entryPoint:"games/",data:n}),r=t.substr(14,20);this.#storage.push({id:r,name:e}),this.updateLocalStorage()}updateLocalStorage(){localStorage.setItem("boards",JSON.stringify(this.#storage))}};let v,E;const w=new class{#errors;constructor(){this.#errors=[]}get list(){return this.#errors}addError(e){this.#errors.some((n=>n.message.includes(e.message)))||this.#errors.push(e)}reset(){this.#errors=[]}};function C(e){const n=document.querySelector(".score-form"),t=document.createElement("ul");t.classList.add("errorsList"),e.forEach((e=>{t.innerHTML+=`\n          <li>${e.message}</li>\n      `})),n.appendChild(t)}function x(e){const n=document.querySelector(".scores-container .content");e.forEach((e=>{const t=document.createElement("li");t.classList.add("game"),t.innerText=`${e.user} : ${e.score}`,n.insertAdjacentElement("afterbegin",t)}))}function S(e){const n=e.target.value;n.trim().length<1&&w.addError({message:`${e.target.name} can't be empty!`}),"name"===e.target.name?n.trim().length<3&&w.addError({message:"min name length 3 chars"}):function(e){(isNaN(e)||"number"!=typeof+e)&&w.addError({message:"score must be a number"})}(n),w.list.length>0&&C(w.list)}function B(){const e=document.querySelector(".score-form"),n=e.querySelector(".errorsList");n&&e.removeChild(n),w.reset()}async function L(){document.querySelector(".scores-container .content").innerHTML="";const[...e]=await v.refresh();x(e)}window.onload=async()=>{b.isFirstTime&&(E=window.prompt("Enter leaderBoard Name:"),await b.addLeaderBoard(E));const{id:e}=b.storage[0];v=new class{#storage;constructor(e){this.uniqueID=e,this.#storage=[]}get storage(){return this.#storage}async addGame(e){if(!(e&&e instanceof y))throw new Error("game must be provided!");const n=`games/${this.uniqueID}/scores/`,t={user:e.player.name,score:e.score},{result:r}=await A({entryPoint:n,data:t});return this.#storage.push(e),r}async refresh(){const e=`games/${this.uniqueID}/scores/`,{result:n}=await(async({entryPoint:e})=>{const n=`${h}${e}`;try{const e=await fetch(n);return await e.json()}catch(e){return e}})({entryPoint:e});return n}}(e),document.querySelector(".header h1").innerText+=` ${b.storage[0].name}`,L()};const T=document.forms.score,{name:j,score:I}=T.elements,U=document.querySelector("#refresh");T.addEventListener("submit",(async function(e){e.preventDefault();const{name:n,score:t}=e.target.elements;if(w.list.length>0)C(w.list);else{const e=new g({name:n.value}),r=new y({player:e,score:+t.value});C([{message:await v.addGame(r)}]),x([{user:r.player.name,score:r.score}]),function(...e){[...e].forEach((e=>{e.value=""}))}(n,t)}})),j.addEventListener("blur",S),I.addEventListener("blur",S),j.addEventListener("focus",B),I.addEventListener("focus",B),U.addEventListener("click",L)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sZWFkZXJib2FyZC8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9sZWFkZXJib2FyZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9sZWFkZXJib2FyZC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9sZWFkZXJib2FyZC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9sZWFkZXJib2FyZC8uL3NyYy9zdHlsZS5jc3M/NzE2MyIsIndlYnBhY2s6Ly9sZWFkZXJib2FyZC8uL3NyYy9zZXJ2aWNlcy9hcGkvdXRpbGl0aWVzL3Byb3ZpZGVyLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9sZWFkZXJib2FyZC8uL3NyYy9nYW1lLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vc3JjL2RvbUhlbHBlcnMuanMiLCJ3ZWJwYWNrOi8vbGVhZGVyYm9hcmQvLi9zcmMvYXBwLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vc3JjL2Vycm9yLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vc3JjL2xlYWRlcmJvYXJkLmpzIiwid2VicGFjazovL2xlYWRlcmJvYXJkLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9zIiwiX2UiLCJfYXJyIiwiX24iLCJfZCIsImNhbGwiLCJuZXh0IiwiZG9uZSIsInZhbHVlIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwibyIsIm1pbkxlbiIsIm4iLCJPYmplY3QiLCJwcm90b3R5cGUiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaW5kZXgiLCJzcGxpY2UiLCJtZW1vIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJoYXNPd25Qcm9wZXJ0eSIsIkJBU0VfVVJMIiwicG9zdCIsImFzeW5jIiwiZW50cnlQb2ludCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwicG9zdE9wdGlvbnMiLCJ1cmwiLCJyZXNwb25zZSIsImZldGNoIiwianNvbiIsImVycm9yIiwiUGxheWVyIiwiYWdlIiwic2V4IiwiR2FtZSIsInBsYXllciIsInNjb3JlIiwiYXBwIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiaXNGaXJzdFRpbWUiLCJzdWJzdHIiLCJ1cGRhdGVMb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwibGVhZGVyQm9hcmROYW1lIiwiZXJyb3JzIiwiYWRkRXJyb3IiLCJzb21lIiwibWVzc2FnZSIsImluY2x1ZGVzIiwicmVzZXQiLCJkaXNwbGF5Rmxhc2hNc2dzIiwibWVzc2FnZXMiLCJzY29yZUZvcm0iLCJlcnJvcnNMaXN0IiwiY2xhc3NMaXN0IiwiYWRkIiwiZm9yRWFjaCIsImlubmVySFRNTCIsInVwZGF0ZUdhbWVMaXN0IiwiZ2FtZXMiLCJnYW1lc0NvbnRhaW5lciIsImdhbWUiLCJsaXN0SXRlbSIsImlubmVyVGV4dCIsInVzZXIiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJ2YWxpZGF0ZUlucHV0IiwiZXZlbnQiLCJ1c2VySW5wdXQiLCJ0cmltIiwiaXNOYU4iLCJpbnB1dEluRm9jdXMiLCJoYW5kbGVSZWZyZXNoIiwicmVmcmVzaCIsIm9ubG9hZCIsInByb21wdCIsImFkZExlYWRlckJvYXJkIiwic3RvcmFnZSIsInVuaXF1ZUlEIiwiZm9ybXMiLCJlbGVtZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsImFkZEdhbWUiLCJpbnB1dEVsZW1lbnQiLCJjbGVhcklucHV0Il0sIm1hcHBpbmdzIjoidUZBR0lBLEUsTUFBMEIsR0FBNEIsS0FFMURBLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9DLEdBQUksc25CQUF1bkIsR0FBRyxDQUFDLFFBQVUsRUFBRSxRQUFVLENBQUMsNkJBQTZCLE1BQVEsR0FBRyxTQUFXLHFSQUFxUixlQUFpQixDQUFDLHVuQkFBdW5CLFdBQWEsTUFFenBELFcsUUNDQUQsRUFBT0UsUUFBVSxTQUFVQyxHQUN6QixJQUFJQyxFQUFPLEdBdURYLE9BckRBQSxFQUFLQyxTQUFXLFdBQ2QsT0FBT0MsS0FBS0MsS0FBSSxTQUFVQyxHQUN4QixJQUFJQyxFQUFVTixFQUF1QkssR0FFckMsT0FBSUEsRUFBSyxHQUNBLFVBQVVFLE9BQU9GLEVBQUssR0FBSSxNQUFNRSxPQUFPRCxFQUFTLEtBR2xEQSxLQUNORSxLQUFLLEtBS1ZQLEVBQUtRLEVBQUksU0FBVUMsRUFBU0MsRUFBWUMsR0FDZixpQkFBWkYsSUFFVEEsRUFBVSxDQUFDLENBQUMsS0FBTUEsRUFBUyxNQUc3QixJQUFJRyxFQUF5QixHQUU3QixHQUFJRCxFQUNGLElBQUssSUFBSUgsRUFBSSxFQUFHQSxFQUFJTixLQUFLVyxPQUFRTCxJQUFLLENBRXBDLElBQUlYLEVBQUtLLEtBQUtNLEdBQUcsR0FFUCxNQUFOWCxJQUNGZSxFQUF1QmYsSUFBTSxHQUtuQyxJQUFLLElBQUlpQixFQUFLLEVBQUdBLEVBQUtMLEVBQVFJLE9BQVFDLElBQU0sQ0FDMUMsSUFBSVYsRUFBTyxHQUFHRSxPQUFPRyxFQUFRSyxJQUV6QkgsR0FBVUMsRUFBdUJSLEVBQUssTUFLdENNLElBQ0dO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V3BLLEVBQU1pSCxPSWxFckIsRUFBSytDLGlCQUFpQixPQUFRZixHQUM5QmhDLEVBQU0rQyxpQkFBaUIsT0FBUWYsR0FDL0IsRUFBS2UsaUJBQWlCLFFBQVNWLEdBQy9CckMsRUFBTStDLGlCQUFpQixRQUFTVixHQUNoQ0UsRUFBUVEsaUJBQWlCLFFBQVNULEkiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLyogYm9keSB7XFxuICBfYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlcmVkO1xcblxcbn1cXG5cXG5AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDYwMHB4KSB7XFxuICBib2R5IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlcmVkO1xcbiAgfVxcbn0gKi9cXG5cXG4qIHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5cXG5odG1sIHtcXG4gIGZvbnQtc2l6ZTogMC42MjVyZW07XFxufVxcblxcbmJvZHkge1xcbiAgZm9udC1zaXplOiAycmVtO1xcbiAgcGFkZGluZzogMnJlbTtcXG59XFxuXFxuLmZsZXgge1xcbiAgZGlzcGxheTogZmxleDtcXG59XFxuXFxuLmFwcC1jb250ZW50IHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIGdyZWVuO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgaGVpZ2h0OiA4MHZoO1xcbn1cXG5cXG4uc2NvcmVzLWNvbnRhaW5lciB7XFxuICB3aWR0aDogNTAlO1xcbn1cXG5cXG4uZm9ybS1jb250YWluZXIge1xcbiAgd2lkdGg6IDMwJTtcXG59XFxuXFxuLnNjb3Jlcy1jb250YWluZXIgLmNvbnRlbnQge1xcbiAgYm9yZGVyOiAxcHggc29saWQgYmx1ZXZpb2xldDtcXG59XFxuXFxuLmZvcm0ge1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7Ozs7Ozs7O0dBU0c7O0FBRUg7RUFDRSxzQkFBc0I7RUFDdEIsU0FBUztFQUNULFVBQVU7QUFDWjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGVBQWU7RUFDZixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSx1QkFBdUI7RUFDdkIsOEJBQThCO0VBQzlCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIvKiBib2R5IHtcXG4gIF9iYWNrZ3JvdW5kLWNvbG9yOiBvcmFuZ2VyZWQ7XFxuXFxufVxcblxcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogNjAwcHgpIHtcXG4gIGJvZHkge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBvcmFuZ2VyZWQ7XFxuICB9XFxufSAqL1xcblxcbioge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbmh0bWwge1xcbiAgZm9udC1zaXplOiAwLjYyNXJlbTtcXG59XFxuXFxuYm9keSB7XFxuICBmb250LXNpemU6IDJyZW07XFxuICBwYWRkaW5nOiAycmVtO1xcbn1cXG5cXG4uZmxleCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4uYXBwLWNvbnRlbnQge1xcbiAgYm9yZGVyOiAxcHggc29saWQgZ3JlZW47XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxuICBoZWlnaHQ6IDgwdmg7XFxufVxcblxcbi5zY29yZXMtY29udGFpbmVyIHtcXG4gIHdpZHRoOiA1MCU7XFxufVxcblxcbi5mb3JtLWNvbnRhaW5lciB7XFxuICB3aWR0aDogMzAlO1xcbn1cXG5cXG4uc2NvcmVzLWNvbnRhaW5lciAuY29udGVudCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCBibHVldmlvbGV0O1xcbn1cXG5cXG4uZm9ybSB7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gYXJyID09IG51bGwgPyBudWxsIDogdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBhcnJbU3ltYm9sLml0ZXJhdG9yXSB8fCBhcnJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9zLCBfZTsgdHJ5IHsgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoc3R5bGUsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGUpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoXCJtZWRpYVwiKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZSwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGUpIHtcbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImNvbnN0IEJBU0VfVVJMID0gJ2h0dHBzOi8vdXMtY2VudHJhbDEtanMtY2Fwc3RvbmUtYmFja2VuZC5jbG91ZGZ1bmN0aW9ucy5uZXQvYXBpLyc7XG5cbmNvbnN0IHBvc3RPcHRpb25zID0gKGRhdGEpID0+ICh7XG4gIG1ldGhvZDogJ1BPU1QnLFxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyxcbiAgfSxcbiAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG59KTtcblxuZXhwb3J0IGNvbnN0IHBvc3QgPSBhc3luYyAoeyBlbnRyeVBvaW50LCBkYXRhIH0pID0+IHtcbiAgY29uc3Qgb3B0aW9ucyA9IHBvc3RPcHRpb25zKGRhdGEpO1xuICBjb25zdCB1cmwgPSBgJHtCQVNFX1VSTH0ke2VudHJ5UG9pbnR9YDtcblxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCBvcHRpb25zKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldCA9IGFzeW5jICh7IGVudHJ5UG9pbnQgfSkgPT4ge1xuICBjb25zdCB1cmwgPSBgJHtCQVNFX1VSTH0ke2VudHJ5UG9pbnR9YDtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbn07XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGFnZSA9IDE4LCBzZXggPSB1bmRlZmluZWQgfSkge1xuICAgIGlmICghbmFtZSkgdGhyb3cgbmV3IEVycm9yKCdOYW1lIG11c3QgYmUgcHJvdmlkZWQhJyk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmFnZSA9IGFnZTtcbiAgICB0aGlzLnNleCA9IHNleDtcbiAgfVxufSIsImltcG9ydCBQbGF5ZXIgZnJvbSAnLi9wbGF5ZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgY29uc3RydWN0b3IoeyBwbGF5ZXIsIHNjb3JlIH0pIHtcbiAgICBpZiAoIXBsYXllciB8fCAhKHBsYXllciBpbnN0YW5jZW9mIFBsYXllcikpIHRocm93IG5ldyBFcnJvcigncGxheWVyIG9iamVjdCBtdXN0IGJlIHByb3ZpZGVkIScpO1xuICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgIHRoaXMuc2NvcmUgPSBzY29yZTtcbiAgfVxufSIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xuXG5pbXBvcnQgQXBwIGZyb20gJy4vYXBwLmpzJztcbmltcG9ydCBMZWFkZXJCb2FyZCBmcm9tICcuL2xlYWRlcmJvYXJkLmpzJztcbmltcG9ydCBHYW1lIGZyb20gJy4vZ2FtZS5qcyc7XG5pbXBvcnQgUGxheWVyIGZyb20gJy4vcGxheWVyLmpzJztcbmltcG9ydCBFcnJvciBmcm9tICcuL2Vycm9yLmpzJztcblxuLy8gcHJvZ3JhbSBzdGFydHNcbmNvbnN0IGFwcCA9IG5ldyBBcHAoKTtcbmxldCBsZWFkZXJib2FyZDtcbmxldCBsZWFkZXJCb2FyZE5hbWU7XG5jb25zdCBlcnJvcnMgPSBuZXcgRXJyb3IoKTtcbndpbmRvdy5vbmxvYWQgPSBhc3luYyAoKSA9PiB7XG4gIGlmIChhcHAuaXNGaXJzdFRpbWUpIHtcbiAgICBsZWFkZXJCb2FyZE5hbWUgPSB3aW5kb3cucHJvbXB0KCdFbnRlciBsZWFkZXJCb2FyZCBOYW1lOicpO1xuICAgIGF3YWl0IGFwcC5hZGRMZWFkZXJCb2FyZChsZWFkZXJCb2FyZE5hbWUpO1xuICB9XG5cbiAgY29uc3QgeyBpZCB9ID0gYXBwLnN0b3JhZ2VbMF07XG4gIGxlYWRlcmJvYXJkID0gbmV3IExlYWRlckJvYXJkKGlkKTtcbiAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlciBoMScpO1xuICBoZWFkZXIuaW5uZXJUZXh0ICs9IGAgJHthcHAuc3RvcmFnZVswXS5uYW1lfWA7XG4gIGhhbmRsZVJlZnJlc2goKTtcbn07XG5cbmZ1bmN0aW9uIGRpc3BsYXlGbGFzaE1zZ3MobWVzc2FnZXMpIHtcbiAgY29uc3Qgc2NvcmVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjb3JlLWZvcm0nKTtcbiAgY29uc3QgZXJyb3JzTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gIGVycm9yc0xpc3QuY2xhc3NMaXN0LmFkZCgnZXJyb3JzTGlzdCcpO1xuXG4gIG1lc3NhZ2VzLmZvckVhY2goKGUpID0+IHtcbiAgICBlcnJvcnNMaXN0LmlubmVySFRNTCArPSBgXG4gICAgICAgICAgPGxpPiR7ZS5tZXNzYWdlfTwvbGk+XG4gICAgICBgO1xuICB9KTtcbiAgc2NvcmVGb3JtLmFwcGVuZENoaWxkKGVycm9yc0xpc3QpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVHYW1lTGlzdChnYW1lcykge1xuICBjb25zdCBnYW1lc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY29yZXMtY29udGFpbmVyIC5jb250ZW50Jyk7XG4gIGdhbWVzLmZvckVhY2goKGdhbWUpID0+IHtcbiAgICBjb25zdCBsaXN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgbGlzdEl0ZW0uY2xhc3NMaXN0LmFkZCgnZ2FtZScpO1xuICAgIGxpc3RJdGVtLmlubmVyVGV4dCA9IGAke2dhbWUudXNlcn0gOiAke2dhbWUuc2NvcmV9YDtcbiAgICBnYW1lc0NvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyYmVnaW4nLCBsaXN0SXRlbSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gY2xlYXJJbnB1dCguLi5lbGVtZW50cykge1xuICBbLi4uZWxlbWVudHNdLmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4geyBpbnB1dEVsZW1lbnQudmFsdWUgPSAnJzsgfSk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9ybVN1Ym1pdGlvbkhhbmRsZXIoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgeyBuYW1lLCBzY29yZSB9ID0gZXZlbnQudGFyZ2V0LmVsZW1lbnRzO1xuXG4gIC8vIGNoZWNrIHZhbGlkYXRpb24gcGFzc1xuXG4gIC8vIGVycm9ycygncmVzZXQnKTtcbiAgaWYgKGVycm9ycy5saXN0Lmxlbmd0aCA+IDApIHtcbiAgICBkaXNwbGF5Rmxhc2hNc2dzKGVycm9ycy5saXN0KTtcbiAgICAvLyBlcnJvcnMucmVzZXQoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBhZGQgYSBuZXcgZ2FtZSBvYmogaW50byBsZWFkZXJib2FyZFxuICAgIGNvbnN0IHBsYXllciA9IG5ldyBQbGF5ZXIoeyBuYW1lOiBuYW1lLnZhbHVlIH0pO1xuICAgIGNvbnN0IGdhbWUgPSBuZXcgR2FtZSh7IHBsYXllciwgc2NvcmU6ICtzY29yZS52YWx1ZSB9KTtcblxuICAgIC8vIHBvc3Qgc2NvcmVzICYmIGV4dHJhY3QgcmVzcG9uc2VcbiAgICBjb25zdCBzdWNjZXNzTXNnID0gYXdhaXQgbGVhZGVyYm9hcmQuYWRkR2FtZShnYW1lKTtcbiAgICBkaXNwbGF5Rmxhc2hNc2dzKFt7IG1lc3NhZ2U6IHN1Y2Nlc3NNc2cgfV0pO1xuXG4gICAgLy8gdXBkYXRlIHRoZSBkb21cbiAgICB1cGRhdGVHYW1lTGlzdChbeyB1c2VyOiBnYW1lLnBsYXllci5uYW1lLCBzY29yZTogZ2FtZS5zY29yZSB9XSk7XG5cbiAgICAvLyBjbGVhclxuICAgIGNsZWFySW5wdXQobmFtZSwgc2NvcmUpO1xuICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU5hbWUobmFtZSkge1xuICAobmFtZS50cmltKCkubGVuZ3RoIDwgMykgJiYgZXJyb3JzLmFkZEVycm9yKHsgbWVzc2FnZTogJ21pbiBuYW1lIGxlbmd0aCAzIGNoYXJzJyB9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVTY29yZShzY29yZSkge1xuICAoaXNOYU4oc2NvcmUpIHx8ICh0eXBlb2YgK3Njb3JlICE9PSAnbnVtYmVyJykpICYmIGVycm9ycy5hZGRFcnJvcih7IG1lc3NhZ2U6ICdzY29yZSBtdXN0IGJlIGEgbnVtYmVyJyB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXQoZXZlbnQpIHtcbiAgY29uc3QgdXNlcklucHV0ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAodXNlcklucHV0LnRyaW0oKS5sZW5ndGggPCAxKSAmJiBlcnJvcnMuYWRkRXJyb3IoeyBtZXNzYWdlOiBgJHtldmVudC50YXJnZXQubmFtZX0gY2FuJ3QgYmUgZW1wdHkhYCB9KTtcbiAgaWYgKGV2ZW50LnRhcmdldC5uYW1lID09PSAnbmFtZScpIHZhbGlkYXRlTmFtZSh1c2VySW5wdXQpO1xuICBlbHNlICh2YWxpZGF0ZVNjb3JlKHVzZXJJbnB1dCkpO1xuXG4gIChlcnJvcnMubGlzdC5sZW5ndGggPiAwKSAmJiBkaXNwbGF5Rmxhc2hNc2dzKGVycm9ycy5saXN0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlucHV0SW5Gb2N1cygpIHtcbiAgY29uc3Qgc2NvcmVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjb3JlLWZvcm0nKTtcbiAgY29uc3QgZXJyb3JzTGlzdCA9IHNjb3JlRm9ybS5xdWVyeVNlbGVjdG9yKCcuZXJyb3JzTGlzdCcpO1xuICAoZXJyb3JzTGlzdCkgJiYgc2NvcmVGb3JtLnJlbW92ZUNoaWxkKGVycm9yc0xpc3QpO1xuICBlcnJvcnMucmVzZXQoKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlZnJlc2goKSB7XG4gIGNvbnN0IGdhbWVzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjb3Jlcy1jb250YWluZXIgLmNvbnRlbnQnKTtcbiAgZ2FtZXNDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gIGNvbnN0IFsuLi5yZXN1bHRdID0gYXdhaXQgbGVhZGVyYm9hcmQucmVmcmVzaCgpO1xuICB1cGRhdGVHYW1lTGlzdChyZXN1bHQpO1xufVxuIiwiaW1wb3J0IHsgcG9zdCB9IGZyb20gJy4vc2VydmljZXMvYXBpL3V0aWxpdGllcy9wcm92aWRlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwcCB7XG4gICAgI3N0b3JhZ2VcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgdGhpcy4jc3RvcmFnZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JvYXJkcycpKSB8fCBbXTtcbiAgICAgIHRoaXMuaXNGaXJzdFRpbWUgPSB0aGlzLiNzdG9yYWdlLmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICBnZXQgc3RvcmFnZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLiNzdG9yYWdlO1xuICAgIH1cblxuICAgIGFzeW5jIGFkZExlYWRlckJvYXJkKG5hbWUpIHtcbiAgICAgIGNvbnN0IGVudHJ5UG9pbnQgPSAnZ2FtZXMvJztcbiAgICAgIGNvbnN0IGRhdGEgPSB7IG5hbWUgfTtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSBhd2FpdCBwb3N0KHsgZW50cnlQb2ludCwgZGF0YSB9KTtcbiAgICAgIGNvbnN0IGlkID0gcmVzdWx0LnN1YnN0cigxNCwgMjApO1xuICAgICAgdGhpcy4jc3RvcmFnZS5wdXNoKHsgaWQsIG5hbWUgfSk7XG4gICAgICB0aGlzLnVwZGF0ZUxvY2FsU3RvcmFnZSgpO1xuICAgIH1cblxuICAgIHVwZGF0ZUxvY2FsU3RvcmFnZSgpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdib2FyZHMnLCBKU09OLnN0cmluZ2lmeSh0aGlzLiNzdG9yYWdlKSk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEVycm9yIHtcbiAgICAjZXJyb3JzXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMuI2Vycm9ycyA9IFtdO1xuICAgIH1cblxuICAgIGdldCBsaXN0KCkge1xuICAgICAgcmV0dXJuIHRoaXMuI2Vycm9ycztcbiAgICB9XG5cbiAgICBhZGRFcnJvcihlcnJvcikge1xuICAgICAgaWYgKCF0aGlzLiNlcnJvcnMuc29tZSgoZSkgPT4gZS5tZXNzYWdlLmluY2x1ZGVzKGVycm9yLm1lc3NhZ2UpKSkgdGhpcy4jZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgdGhpcy4jZXJyb3JzID0gW107XG4gICAgfVxufVxuIiwiaW1wb3J0IEdhbWUgZnJvbSAnLi9nYW1lLmpzJztcbmltcG9ydCB7IHBvc3QsIGdldCB9IGZyb20gJy4vc2VydmljZXMvYXBpL3V0aWxpdGllcy9wcm92aWRlci5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcbiAgICAjc3RvcmFnZVxuXG4gICAgY29uc3RydWN0b3IoaWQpIHtcbiAgICAgIHRoaXMudW5pcXVlSUQgPSBpZDtcbiAgICAgIHRoaXMuI3N0b3JhZ2UgPSBbXTtcbiAgICB9XG5cbiAgICBnZXQgc3RvcmFnZSgpIHtcbiAgICAgIHJldHVybiB0aGlzLiNzdG9yYWdlO1xuICAgIH1cblxuICAgIGFzeW5jIGFkZEdhbWUoZ2FtZSkge1xuICAgICAgaWYgKCFnYW1lIHx8ICEoZ2FtZSBpbnN0YW5jZW9mIEdhbWUpKSB0aHJvdyBuZXcgRXJyb3IoJ2dhbWUgbXVzdCBiZSBwcm92aWRlZCEnKTtcblxuICAgICAgLy8gcHJlcGFyZSBkYXRhIHRvIHBvc3QgJiYgcG9zdFxuICAgICAgY29uc3QgZW50cnlQb2ludCA9IGBnYW1lcy8ke3RoaXMudW5pcXVlSUR9L3Njb3Jlcy9gO1xuICAgICAgY29uc3QgZGF0YSA9IHsgdXNlcjogZ2FtZS5wbGF5ZXIubmFtZSwgc2NvcmU6IGdhbWUuc2NvcmUgfTtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSBhd2FpdCBwb3N0KHsgZW50cnlQb2ludCwgZGF0YSB9KTtcblxuICAgICAgdGhpcy4jc3RvcmFnZS5wdXNoKGdhbWUpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBhc3luYyByZWZyZXNoKCkge1xuICAgICAgLy8gdXBkYXRlIHN0b3JhZ2UgZm9yIGxlYWRlcmJvYXJkIG9iaiAoZ2V0IHJlcSlcbiAgICAgIGNvbnN0IGVudHJ5UG9pbnQgPSBgZ2FtZXMvJHt0aGlzLnVuaXF1ZUlEfS9zY29yZXMvYDtcbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSBhd2FpdCBnZXQoeyBlbnRyeVBvaW50IH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4iLCJpbXBvcnQgJy4vc3R5bGUuY3NzJztcbmltcG9ydCB7XG4gIGZvcm1TdWJtaXRpb25IYW5kbGVyLCB2YWxpZGF0ZUlucHV0LCBpbnB1dEluRm9jdXMsIGhhbmRsZVJlZnJlc2gsXG59IGZyb20gJy4vZG9tSGVscGVycy5qcyc7XG5cbmNvbnN0IHNjb3JlRm9ybSA9IGRvY3VtZW50LmZvcm1zLnNjb3JlO1xuY29uc3QgeyBuYW1lLCBzY29yZSB9ID0gc2NvcmVGb3JtLmVsZW1lbnRzO1xuY29uc3QgcmVmcmVzaCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZWZyZXNoJyk7XG4vLyBjb25zdCBnYW1lc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY29yZXMtY29udGFpbmVyIC5jb250ZW50Jyk7XG5zY29yZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZm9ybVN1Ym1pdGlvbkhhbmRsZXIpO1xubmFtZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdmFsaWRhdGVJbnB1dCk7XG5zY29yZS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdmFsaWRhdGVJbnB1dCk7XG5uYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaW5wdXRJbkZvY3VzKTtcbnNjb3JlLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgaW5wdXRJbkZvY3VzKTtcbnJlZnJlc2guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZWZyZXNoKTsiXSwic291cmNlUm9vdCI6IiJ9